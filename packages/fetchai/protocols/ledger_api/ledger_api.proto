syntax = "proto3";

package fetch.aea.LedgerApi;

message LedgerApiMessage{

    // Performatives and contents
    message Get_Balance_Performative{
        string ledger_id = 1;
        string address = 2;
    }

    message Send_Signed_Transaction_Performative{
        string ledger_id = 1;
        bytes signed_tx = 2;
    }

    message Is_Transaction_Settled_Performative{
        string ledger_id = 1;
        string tx_digest = 2;
    }

    message Is_Transaction_Valid_Performative{
        string ledger_id = 1;
        string tx_digest = 2;
    }

    message Get_Transaction_Receipt_Performative{
        string ledger_id = 1;
        string tx_digest = 2;
    }

    message Balance_Performative{
        int32 amount = 1;
    }

    message Tx_Digest_Performative{
        string digest = 1;
    }

    message Tx_Receipt_Performative{
        map<string, string> data = 1;
    }


    // Standard LedgerApiMessage fields
    int32 message_id = 1;
    string dialogue_starter_reference = 2;
    string dialogue_responder_reference = 3;
    int32 target = 4;
    oneof performative{
        Balance_Performative balance = 5;
        Get_Balance_Performative get_balance = 6;
        Get_Transaction_Receipt_Performative get_transaction_receipt = 7;
        Is_Transaction_Settled_Performative is_transaction_settled = 8;
        Is_Transaction_Valid_Performative is_transaction_valid = 9;
        Send_Signed_Transaction_Performative send_signed_transaction = 10;
        Tx_Digest_Performative tx_digest = 11;
        Tx_Receipt_Performative tx_receipt = 12;
    }
}
